# 第一节 数据库存储

## No.1 数据库范式有哪些?

* 第一范式: 数据库表的每一列都是不可分割的原子数据项,而不能是集合,数组等非原子数据项;
* 第二范式: 要求数据库表的每个实例或记录必须可以被唯一地区分,选取一个能区分每个实体的属性或属性组,作为实体的唯一标识;
* 第三范式: 要求一个关系中不包含已在其它关系已包含的非关键字信息.

## No.2 数据库的 M/S,M/M 等部署方式有什么区别?

|  属性  | Master/Slave |  Master/Master  |
| ------ | ------ | ------ |
|  一致性  | Eventually:当你写入一个新值后,有可能读不出来,但在某个时间窗口之后保证最终能读出来.比如:DNS,电子邮件,Amazon S3,Google搜索引擎这样的系统.   |   与M/S一样    |
|  事务  | 完整   | 本地 |
|  延迟  | 低延迟   | 低延迟      |
|  吞吐  | 高吞吐 | 高吞吐 |
|  数据丢失  | 部分丢失    | 部分丢失 |
|  熔断  | 只读    | 读/写  |

## No.3 索引有什么用?大致原理是什么?设计索引有什么注意点?

索引是一种用空间换时间的优化策略,把随机io转为顺序io,加快检索效率;
不过索引数量过多会降低写入的性能,因为在表中的数据更改时,所有的索引都将必须进行适当的调整.

在实际操作过程中,设计索引要考虑如下情况:

1. 选择唯一性索引;
2. 为经常需要排序、分组和联合操作的字段建立索引;
3. 为常作为查询条件的字段建立索引;
4. 限制索引的数目;
5. 尽量使用数据量少的索引;
6. 尽量使用前缀来索引;
7. 删除不再使用或者很少使用的索引.

