## 一、搭建诞生的背景

搭建主要诞生于业务的快速发展，主要有以下几种情况：

1. 业务需要大量开发很多相似的页面；
2. 业务需要对页面结构与数据进行频繁调整；
3. 页面经常有定期统一更换的诉求；

为了解决这个问题，诞生了搭建，这三个场景对应了搭建三个核心能力：

* 可视化搭建能力：研发效率的提升；
* 数据配置能力：对页面的干预；
* 动态化能力：稳定可靠的服务端渲染。

## 二、搭建基础功能

### 可视化搭建能力

* 页面的组成部分

![page-solution](/assets/page-solution.png)

* 可视化搭建编辑器

![build-page.png](/assets/build-page.png)

* 数据配置能力

模块可以通过JSON Schema来描述自身数据的格式，搭建平台会根据Schema生成对应的表单给业务来填写。

![module-schema.png](/assets/module-schema.png)

* 动态化能力
提供高可用的页面渲染服务

![build-struct.png](/assets/build-struct.png)

## 三、搭建平台的演进

### 初期：先确定搭建系统的基础设计，比如模块研发工程、全局的Solution、模块schema、后端渲染能力(Node)。

随着业务的发展，陆续也会遇到一些问题：
1. 在移动端情况下，多端问题；
2. 数据配置复杂度问题；
3. 后端渲染性能问题；
4. 数据个性化的趋势支撑困难。

### 中期：可以针对这些问题：
1. 基于CDN detector实现一个URL对应多端的能力；
2. 设计多端模块研发策略，实现搭建一次，自动生成多端页面（PC、Mobile、Native）；
3. 基于Node服务和CDN提供高可用页面渲染服务。
4. 数据填写部分，设置标准化数据模型，打通横向业务数据，让业务可以通过索引关联，告别纯手工方式；
4. 投放支持个性化数据源，支持配置个性化规则。

![build-module-2.png](/assets/build-module-2.png)

紧接着可能会面临新的挑战：
* 单一搭建平台可能无法满足业务更多的定制化；
* 基于人工的搭建效率还是无法满足大批量页面生产的诉求；
* 针对不同角色的搭建需求也是无法解决；
* 搭建的底层能力过度的耦合存在老化的问题。

### 后期：需要进一步优化搭建服务

* 业务平台上：搭建场景需要扩展
* 模块产品设计上：开发者中心、有前端研发链路、脚手架、数据中心
* 搭建底层服务上：搭建域（模块、页面、模版、主题）；管理（业务、用户、权限）；保障（监控预警、数据大盘）；扩展（国际化、渲染、缓存、小程序）；
* 规范上：模块+模版+接口+数据协议+solution
